@model ContactDetailsVm


<div class="col-12 accountColumn" data-aos="fade-left" data-aos-duration="800" data-aos-delay="800" data-aos-once="true">
    <div class="text-center">
        <icon class="fas fa-user-cog extend"></icon>
        <h2 class="extend">Dane kontaktowe</h2>
        <div class="contactContent mt-3">
            <h5>Możesz przypisać lub zmienić swoje dane</h5>
            @using (Html.BeginForm("SaveNewContactData", "Account", FormMethod.Post))
            {
                <div class="formContact">
                    <div class="form-group">
                        <div class="mb-3">
                            <input asp-for="UserId" type="hidden" />
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-floating mb-3">
                            @{
                                if (String.IsNullOrEmpty(ViewBag.contactDetails.Country))
                                {
                                    <input id="inputCountryField" asp-for="Country" placeholder="Kraj" class="form-control"  style="border-radius: 1rem;">
                                }
                                else
                                {
                                    <input id="inputCountryField" asp-for="Country" class="form-control" value="@ViewBag.contactDetails.Country" style="border-radius: 1rem;">
                                }
                                <label for="inputCountryField">Kraj</label>
                            }
                            <span asp-validation-for="Country" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-floating mb-3">
                            @{
                                if (String.IsNullOrEmpty(ViewBag.contactDetails.ZipCode))
                                {
                                    <input id="zipCode" asp-for="ZipCode" class="form-control" data-mask="99-999" placeholder="Kod pocztowy" style="border-radius: 1rem;">
                                }
                                else
                                {
                                    <input id="zipCode" asp-for="ZipCode" class="form-control" data-mask="99-999" value="@ViewBag.contactDetails.ZipCode" style="border-radius: 1rem;">
                                }
                                <label for="inputZipCodeField">Kod pocztowy</label>
                            }
                            <span asp-validation-for="ZipCode" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-floating mb-3">
                            @{
                                if (String.IsNullOrEmpty(ViewBag.contactDetails.City))
                                {
                                    <input asp-for="City" class="form-control" placeholder="Miasto" style="border-radius: 1rem;">
                                }
                                else
                                {
                                    <input asp-for="City" class="form-control" value="@ViewBag.contactDetails.City" style="border-radius: 1rem;">
                                }
                                <label for="inputCityField">Miasto</label>
                            }
                            <span asp-validation-for="City" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="form-floating mb-3">
                            @{
                                if (String.IsNullOrEmpty(ViewBag.contactDetails.PhoneNumber))
                                {
                                    <input id="phoneNumber" asp-for="PhoneNumber" data-mask="(99) 999-999-999" class="form-control" placeholder="Telefon - (48) 123-456-789" style="border-radius: 1rem;">
                                }
                                else
                                {
                                    <input id="phoneNumber" asp-for="PhoneNumber" data-mask="(99) 999-999-999" class="form-control" value="@ViewBag.contactDetails.PhoneNumber" style="border-radius: 1rem;">
                                }
                                <label for="inputPhoneNumberField">Telefon - (48) 123-456-789</label>
                            }
                            <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="mb-3">
                            <button class="btn btn-primary contactButton" type="submit">Zapisz</button>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $(".contactContent").hide()
            $("#phoneNumber").mask('(99) 999-999-999')
            $("#zipCode").mask('99-999')
        })
        $(".extend").on("click", function () {
            $(".contactContent").slideToggle(500)
        });



    </script>
    <partial name="_ValidationScriptsPartial" />
}
